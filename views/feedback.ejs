<%- include("partials/header") -%>

<div class="header">
  <div class="row">
    <div class="col-8">
      <h1 class="pageTitle">Your Feedback Matters</h1>
    </div>
    <div class="col-4">
      <div class="nav-button">
        <a href="/" role="button">Go Back</a>
      </div>
    </div>
  </div>
</div>

<div class="row">
<div class="col-3">

<!-- Select type of feedback -->
<div class="centerOption">
  <div class="selectOption">
    <select id="feedback">
      <option value="">-- Select Feedback Type --</option>
      <option value="message">Single Message</option>
      <option value="survey">Survey</option>
    </select>
  </div>
</div>

</div>

<div class="col-9">

<div class="options">
  <!-- Single Message feedback -->
  <div id="message" class="fadeInDown optionStyle">
    <form action="/feedback" method="post">
      <div class="form-group">
        <%- include("partials/userDetails") -%>
        <div class="padding">
          <label for="feedback">Feedback</label>
          <textarea class="form-control" name="feedback" rows="8" required="required" cols="80"></textarea>
        </div>
      </div>
      <div class="sendButton padding">
        <button class="btn btn-outline-light" type="submit" name="button">Send Feedback</button>
      </div>
    </form>
  </div>

  <!-- Survey feedback -->
  <div id="survey" class="fadeInDown optionStyle">
    <form action="/survey" method="post">
      <%- include("partials/userDetails") -%>

      <div class="padding">
        <label for="socialSkills">How would you rate my social skills?*</label>
        <div class="form-inline">
          <div class="form-group">
            <select name="socialSkills" class="form-control" required="required">
              <%- include("partials/option") -%>
            </select>
          </div>
          <div class="form-group mx-sm-2">
            <button id="socialBtn" name="button" class="btn btn-light btn-sm active" type="button">Add a Note</button>
          </div>
          <div class="padding">
          <textarea id="socialExtra" name="socialExtra" class="form-control" rows="2" cols="30"></textarea>
          </div>
        </div>
      </div>

      <div class="padding">
        <label for="techSkills">How would you rate my technical skills?*</label>
        <div class="form-inline">
          <div class="form-group">
            <select name="techSkills" class="form-control" required="required">
              <%- include("partials/option") -%>
            </select>
          </div>
          <div class="form-group mx-sm-2">
              <button id="techBtn" name="button" class="btn btn-light btn-sm active" type="button">Add a Note</button>
          </div>
          <div class="padding">
          <textarea id="techExtra" name="techExtra" class="form-control" rows="2" cols="30"></textarea>
          </div>
        </div>
      </div>

      <div class="padding">
        <label for="techTask">How did I handle technical task?(If there was one)</label>
        <div class="form-inline">
          <div class="form-group">
            <select name="techTask" class="form-control">
              <%- include("partials/option") -%>
            </select>
          </div>
          <div class="form-group mx-sm-2">
            <button id="techTaskBtn" name="button" class="btn btn-light btn-sm active" type="button">Add a Note</button>
          </div>
          <div class="padding">
          <textarea id="techTaskExtra" name="techTaskExtra" class="form-control" rows="2" cols="30"></textarea>
          </div>
        </div>
      </div>

      <div class="padding">
        <label for="extra">Feel free to add any extra feedback. (It helps!)</label>
        <textarea class="form-control" name="extra" rows="4" cols="40"></textarea>
      </div>

      <div class="sendButton padding">
        <button class="btn btn-outline-light" type="submit" name="button">Send Feedback</button>
      </div>
    </form>
  </div>
</div>

</div>

</div>

<script>
  document.getElementById("feedback").addEventListener("change", function() {
    document.getElementById("message").style.display = "none";
    document.getElementById("survey").style.display = "none";
    const style = this.value;
    switch (style) {
      case "message":
        document.getElementById("message").style.display = "block";
        break;
      case "survey":
        document.getElementById("survey").style.display = "block";
        break;
    }
  });

  document.getElementById("socialBtn").addEventListener("click", function() {

    if (document.getElementById("socialExtra").style.display == "block") {
      document.getElementById("socialExtra").style.display = "none";
    } else {
      document.getElementById("socialExtra").style.display = "block";
    }
  });

  document.getElementById("techBtn").addEventListener("click", function() {
    if (document.getElementById("techExtra").style.display == "block") {
      document.getElementById("techExtra").style.display = "none";
    } else {
      document.getElementById("techExtra").style.display = "block";
    }
  });

  document.getElementById("techTaskBtn").addEventListener("click", function() {
    if (document.getElementById("techTaskExtra").style.display == "block") {
      document.getElementById("techTaskExtra").style.display = "none";
    } else {
      document.getElementById("techTaskExtra").style.display = "block";
    }
  });
</script>

<%- include("partials/footer") -%>
