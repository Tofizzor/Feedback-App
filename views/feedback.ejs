<%- include("partials/header") -%>

<div class="post">
  <h1>Feedback form</h1>
  <a href="/" class="logout-button" role="button">Go Back</a>

  <!-- Select type of feedback -->
  <p>
    <select id="feedback">
      <option value="">-- Select Feedback Type --</option>
      <option value="message">Single Message</option>
      <option value="survey">Survey</option>
    </select>
  </p>


  <!-- Single Message feedback -->
  <div id="message" class="fadeInDown">
    <form action="/feedback" method="post">
      <div class="form-group">
        <%- include("partials/userDetails") -%>
        <label for="feedback">Feedback</label>
        <textarea class="form-control" name="feedback" rows="8" required="required" cols="80"></textarea>
      </div>
      <button class="btn btn-primary" type="submit" name="button">Send Feedback</button>
    </form>
  </div>

  <!-- Survey feedback -->
  <div id="survey">
    <form action="/survey" method="post">
      <%- include("partials/userDetails") -%>
      <label for="socialSkills">How would you rate my social skills?</label>
      <br>
      <select name="socialSkills" required="required">
       <%- include("partials/option") -%>
      </select>
      <br>
      <button id="socialBtn" type="button" name="button">Add a Note</button>
      <br>
      <textarea id="socialExtra" class="form-control" name="socialExtra" rows="2" cols="30"></textarea>
      <br>
      <label for="techSkills">How would you rate my technical skills?</label>
      <br>
      <select name="techSkills" required="required">
        <%- include("partials/option") -%>
      </select>
      <br>
      <button id="techBtn" type="button" name="button">Add a Note</button>
      <br>
      <textarea id="techExtra" class="form-control" name="techExtra" rows="2" cols="30"></textarea>
      <br>

      <label for="extra">Feel free to add any extra feedback. (It helps!)</label>
      <textarea class="form-control" name="extra" rows="4" cols="40"></textarea>
      <br>
      <button class="btn btn-primary" type="submit" name="button">Send Feedback</button>
    </form>
  </div>

</div>

<script>
  document.getElementById("feedback").addEventListener("change", function() {
    document.getElementById("message").style.display = "none";
    document.getElementById("survey").style.display = "none";
    const style = this.value;
    switch (style) {
      case "message":
        document.getElementById("message").style.display = "block";
        break;
      case "survey":
        document.getElementById("survey").style.display = "block";
        break;
    }
  });

  document.getElementById("socialBtn").addEventListener("click", function() {

    if (document.getElementById("socialExtra").style.display == "block") {
      document.getElementById("socialExtra").style.display = "none";
    } else {
      document.getElementById("socialExtra").style.display = "block";
    }
  });

  document.getElementById("techBtn").addEventListener("click", function() {
    if (document.getElementById("techExtra").style.display == "block") {
      document.getElementById("techExtra").style.display = "none";
    } else {
      document.getElementById("techExtra").style.display = "block";
    }
  });
</script>

<%- include("partials/footer") -%>
